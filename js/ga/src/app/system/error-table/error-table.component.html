<div #mainContainer style = "overflow:auto;" [style.height] = "height">
    <table class = "errorTable TableCreatorBorderColor" (dragover)="dragoverHandler($event);">  <!--  -->
        <tbody (click) = "change ? editField($event) : null">
            <tr>
                <th class = "TableCreatorHeadColor"></th>
                <th *ngFor = "let head of header; let i = index;" class = "TableCreatorHeadColor TableCreatorHeadBColor" id = "{{'TH_' + i}}">{{ head.value }}</th>
            </tr>
            <tr *ngFor = "let row of listTables; let i = index;">
                <td (contextmenu) = "getContextmenu($event, i)" class = "TableCreatorHeadColor TableCreatorHeadBColor">{{ i + 1 }}</td>
                <td *ngFor = "let void of header; let j = index;" id = "{{i + '_' + j}}" [style.background] = "row[j] == undefined ? '#fafafa' : (row[j].id == searchCellId ? '#e7f5c6' : none)">
                    {{ row[j] != undefined && !row[j].listValue ? row[j].value : "" }}
                    {{ row[j] != undefined && row[j].listValue ? row[j].listValue : "" }}
                    <span *ngIf = "row[j] != undefined && row[j].type == 'value'" class = "linkClass linkValueClass" (dblclick) = "openToExplorer(row[j])">
                        <i class = "fa fa-link"></i>
                    </span>
                    <span *ngIf = "row[j] != undefined && row[j].type == 'table'" class = "linkClass linkValueClass" (dblclick) = "openToExplorer(row[j])">
                        <i class = "fa fa-table"></i>
                    </span>
                    <span *ngIf = "row[j] != undefined && row[j].type == 'cell'" class = "linkClass linkCellClass" [class.linkErrorClass] = "row[j].value == null" (dblclick) = "openToExplorer(row[j])">
                        <i class = "fa fa-link"></i>
                    </span>
                    <span *ngIf = "row[j] != undefined && row[j].type == 'file'" class = "linkClass linkValueClass" (dblclick) = "openToExplorer(row[j])">
                        <i class = "fa fa-file"></i>
                    </span>
                    <span *ngIf = "row[j] != undefined && row[j].eventId" class = "eventClass linkCellClass" (dblclick) = "openEventToExplorer(row[j].eventId)">
                        <i class = "fa fa-bolt"></i>
                    </span>
                    <div *ngIf = "row[j] != undefined && row[j].state" [style.width] = "row[j].state + '%'" class = "tableStateLoading" 
                        [class.tableCellStateGreen] = "row[j].state == 100"
                        [class.tableCellStateYellow] = "row[j].state >= 50 && row[j].state < 100"
                        [class.tableCellStateRed] = "row[j].state < 50">
                    </div>
                </td>
                <td class = "lastTD"><button *ngIf = "change" (click) = "removeRow(i)" class = "mainButton"><i class="fas fa-trash"></i></button></td>
            </tr>
        </tbody>
    </table>

    <div #mainEditElement style = "position:absolute;" [ngStyle] = "configInput" [hidden] = "!inputProperty.visible">
        <textarea #mainInputElement class = "mainInputStyle TableCreatorInputColor" (blur) = "acceptEditField($event)" [(ngModel)] = "inputProperty.value" (keydown)="downEnter($event)"></textarea>
        <button #mainButtonElement [hidden] = "inputProperty.type != 'table'" 
            style = "position:absolute; right:0px; top: 0px; color:red; cursor:pointer; border:none; background:none; outline: none;"
            (click) = "inputProperty.value = ''; inputProperty.state = 0; acceptEditField($event)">
            <i class = "fa fa-times-circle"></i>
        </button>
        <select #mainSelectElement [hidden] = "inputProperty.values.length == 0" (blur) = "acceptEditField($event)" style = "position:absolute; top: 100%; height: 24px; width:100%;" [(ngModel)] = "inputProperty.value">
            <option *ngFor = "let option of inputProperty.values">{{ option }}</option>
        </select>
        <div class = "mainStatusStyle TableCreatorStateColor" [hidden] = "!inputProperty.visibleState">
            Статус: <input #mainStatusElement type = "number" (blur) = "acceptEditField($event)" style = "width:45px;" step = "10" min = "0" max = "100" [(ngModel)] = "inputProperty.state"> %
            <button #mainButtonRemoveEvent [hidden] = "!inputProperty.eventId" title = "Удалить событие" (blur) = "acceptEditField($event)" (click) = "removeEvent()">
                <span style = "color:#ca4242;">
                    <i class = "fa fa-bolt"></i>
                </span>
            </button>
        </div>
        <!-- <div class = "buttonAcceptEditing" title = "сохранить изменения"><i class="fas fa-check"></i></div> -->
    </div>
</div>
<div *ngIf = "inputProperty.visible" class = "TableCreatorHeadColor" style = "position:absolute; bottom:-22px; font-size:12px;">id: {{ inputProperty.id }}</div>
<div class = "createContextMenu" [hidden] = "!createContextMenu.visible || !change" [style.top] = "createContextMenu.top" [style.left] = "createContextMenu.left">
    <div class = "contextMenuList" (click) = "removeRow(createContextMenu.i)">Удалить строку</div>
    <div class = "contextMenuList" (click) = "addRow(-1)">Вставить строку выше</div>
    <div class = "contextMenuList" (click) = "addRow(0)">Вставить строку ниже</div>
</div>