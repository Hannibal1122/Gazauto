
<button class = "explorerButton" title = "Назад" (click) = "openBackFolder(parent)"><i class="fas fa-arrow-left"></i></button>
<input type = "text" style = "border-radius:5px; padding: 5px; border: 1px solid #eeeeee;" placeholder="Поиск">
<button class = "explorerButton" title = "Добавить элемент" (click) = "newObject()" [disabled] = "!selectRules.new"><i class="fas fa-file"></i></button>
<button class = "explorerButton" title = "Копировать" (click) = "copyObject('copy')" [disabled] = "!selectRules.copy"><i class="fas fa-copy"></i></button>
<button class = "explorerButton" title = "Вставить" (click) = "_pasteObject()" [disabled] = "!selectRules.paste"><i class="fas fa-paste"></i></button>
<button class = "explorerButton" title = "Вырезать" (click) = "copyObject('cut')" [disabled] = "!selectRules.cut"><i class="fas fa-cut"></i></button>
<button class = "explorerButton" title = "Добавить права" (click) = "createObject(outFolders[selectObjectI].id, 'Права', null)" [disabled] = "!selectRules.rights"><i class="fas fa-address-card"></i></button>
<button class = "explorerButton" title = "Справка" (click) = "addInfo()" [disabled] = "!selectRules.info"><i class="fas fa-info"></i></button>
<button class = "explorerButton" title = "Удалить" (click) = "removeObject()" [disabled] = "!selectRules.remove"><i class="fas fa-trash"></i></button>
<button class = "explorerButton" title = "Скачать" (click) = "downloadObject()" [disabled] = "!selectRules.download"><i class="fas fa-download"></i></button>
<button class = "explorerButton" title = "Обновить" (click) = "refresh(true)"><i class="fas fa-sync-alt"></i></button>
<!-- <a href = "http://localhost:8081/gazprom/scripts/main.php" download="test">test</a> -->
<div style = "font-size:12px; color:#8f8f8f">
    <span *ngFor = "let path of allPath" (click) = "openObject({objectType: 'folder', id: path.id})" style = "cursor:pointer;">{{ path.name }}/</span>
</div>
<br>
<div style = "display: flex; color: #456486; flex-wrap: wrap; font-size:12px;">
    <span *ngFor = "let object of outFolders; let i = index;"><!--  -->
        <div class = "elementExplorer" 
            (click) = "selectObject(i)"
            [class.selectElementExplorer] = "i == selectObjectI"
            [class.selectSearchElementExplorer] = "i != selectObjectI && i == searchObjectI"
            [class.selectCopyElementExplorer] = "i != selectObjectI && object.id == selectObjectCopy.id"
            [class.selectCopyElementExplorerOpacity] = "i != selectObjectI && object.id == selectObjectCopy.id && selectObjectCopy.type == 'cut'"
            title = "{{ object.name }}" style = "text-align:center;">
            <div *ngIf = "object.objectType == 'folder'" 
                (dblclick) = "openObject(object)">
                <i class="fas fa-folder" style = "font-size: 65px;"></i>
            </div>
            <div *ngIf = "object.objectType == 'table'"
                (dblclick) = "openObject(object)">
                <i class="fas fa-table" style = "font-size: 65px; color: #aeec6c"></i>
            </div>
            <div *ngIf = "object.objectType == 'user'"
                (dblclick) = "openObject(object)">
                <i class="fas fa-user" style = "font-size: 65px; color: #456486"></i>
            </div>
            <div *ngIf = "object.objectType == 'role'"
                (dblclick) = "openObject(object)">
                <i class="fas fa-address-book" style = "font-size: 65px; color: #456486"></i>
            </div>
            <div *ngIf = "object.objectType == 'value'"
                (dblclick) = "openObject(object)">
                <i class="fas fa-superscript" style = "font-size: 65px; color: #734586"></i>
            </div>
            <div *ngIf = "object.objectType == 'file'">
                <i *ngIf = "object.fileType == 'img'" class="fas fa-file-image" style = "font-size: 65px; color: #458655"></i>
                <i *ngIf = "object.fileType == 'xls'" class="fas fa-file-excel" style = "font-size: 65px; color: #458655"></i>
                <i *ngIf = "object.fileType == 'doc'" class="fas fa-file-word" style = "font-size: 65px; color: #458655"></i>
            </div>
            {{ object.name }}
        </div>
    </span>
</div>
<span *ngIf = "outFolders.length == 0" style = "color:#b8b8b8; font-size:24px; font-weight:bold"> Папка пуста</span>
<div style = "margin-bottom:5px; margin-top:25px; height:20px;background-color:#ececec; line-height:20px; padding-left:3px;">
    <span *ngIf = "load" style = "color:#757575;font-size:12px;">Loading...</span>
</div>

<modalwindow #modal></modalwindow>